<!DOCTYPE html><html lang="en-us"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dan Stroot &middot; Digital Business Card</title><meta name="description" content=""><meta name="keywords" content=""><meta name="theme-color" content="#202020"><link rel="manifest" href="https://danstroot.com/manifest.json"><link rel="stylesheet" href="https://danstroot.com/css/styles.min.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="icon" href="https://danstroot.com/favicon.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://www.gravatar.com/avatar/b6e0ed5e10ea91f67808629f4ae109f2.png?s=152"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://www.gravatar.com/avatar/b6e0ed5e10ea91f67808629f4ae109f2.png?s=120"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://www.gravatar.com/avatar/b6e0ed5e10ea91f67808629f4ae109f2.png?s=76"><link rel="apple-touch-icon-precomposed" href="http://www.gravatar.com/avatar/b6e0ed5e10ea91f67808629f4ae109f2.png?s=60"><script type="application/javascript">var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44765020","auto"),ga("send","pageview"))</script><script async src="https://www.google-analytics.com/analytics.js"></script><body class=""><div class="sidebar"><div class="container sidebar-sticky"><div class="myface"><a href="https://danstroot.com/"><img src="https://danstroot.com/img/face_sm.jpg" srcset="https://danstroot.com/img/face_lg.jpg 2x" alt="Dan Stroot" height="150" width="150"> <i class="icon-home"></i></a></div><div class="sidebar-about"><a href="https://danstroot.com/"><h1>Dan Stroot</h1></a><p class="lead">I love building things. Made in California. Family man, technologist and Hacker News aficionado. Eternally curious.</div><hr class="hr-sidebar"><a href="https://danstroot.com/about">About</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://danstroot.com/post">Archive</a><hr class="hr-sidebar"><ul class="sidebar-nav"><li class="sidebar-nav-item"><a href="https://github.com/dstroot"><span class="icon-github-square"></span></a> <a href="https://www.linkedin.com/in/danstroot"><span class="icon-linkedin-square"></span></a> <a href="https://www.facebook.com/dan.stroot"><span class="icon-facebook-square"></span></a> <a href="https://twitter.com/danstroot"><span class="icon-twitter-square"></span></a></ul><p class="small">Copyright &copy; 2019</div></div><div class="content container"><div class="post"><h1 class="post-title">Digital Business Card</h1><span class="post-date">March 2, 2019 &middot; <span class="icon-clock-o"></span> 3 minute read &middot; <a href="https://danstroot.com/2019/03/02/digital-business-card/#disqus_thread">Comments</a><br></span><div class="post-content"><p><img src="https://danstroot.com/img/shredded.jpg" alt="shredded paper"><p>Recently I took on a new role. I was asked for information so that business cards could be ordered for me. I reflected a moment and realized I don&rsquo;t really use business cards anymore. I decided that I needed a digital way to share my business (and personal) information and I wanted to be able to control what I share. One of the side benefits of this is I don&rsquo;t have to share my personal mobile phone number either. The number below is purchased through Twilio and is only used to reply with my digital business card.<p>You can send a SMS to <a href="tel:+19493330466">+1 949 333-0466</a> to try it out.<h3 id="tech-stack">Tech Stack</h3><ul><li><a href="https://aws.amazon.com/api-gateway/">AWS API Gateway</a><li><a href="https://aws.amazon.com/lambda/">AWS Lambda</a><li><a href="https://serverless.com/">Serverless</a><li><a href="https://www.twilio.com">Twilio</a><li><a href="https://nodejs.org/en/">Node.js</a></ul><p>This is a &ldquo;production ready&rdquo; stack that took a couple hours to build and test. It could scale to millions of users, but since it&rsquo;s &ldquo;serverless&rdquo; the code just sits there until someone actually uses it. It deploys for pennies per month. Each outbound MMS costs \$0.02. Since the code is only ~5mb the storage costs on AWS are nearly zero.<p>The architecture looks like this:<p><img src="https://danstroot.com/img/serverless.png" alt="architecture"><p><small>NOTE: I didn&rsquo;t draw this - it is automatically generated from the CloudFormation script that the Serverless framework creates. Automatic &ldquo;perfect&rdquo;, evergreen documentation because it is showing exactly what is actually deployed. Cool!</small><p>Put simply, an API gateway endpoint handles all the tasks involved processing up to hundreds of thousands of concurrent API calls, including traffic management, authorization and access control, monitoring, and API version management. The API gateway talks to a Lambda function.<p>AWS Lambda lets you run code without provisioning or managing servers. You pay only for the compute time you consume - there is no charge when your code is not running. This also results in zero administration. The Lambda function is just a Nodejs function that uses the Twilio javascript library to respond to the API call with my business card information. The code is deployed from an S3 bucket.<p>In my organization people are concerned about how we will be able to operate our services and applications in the cloud. This puzzles me because if we architect things properly we should be striving to achieve <strong>zero administration</strong>. This is how you get there!<p>Prerequisites<ul><li>An AWS account<li>A Twilio account<li>Node.js and NPM or Yarn installed on your development machine<li><p>Use NPM or Yarn to install Serverless:<pre><code class="language-sh"># Installing the serverless cli
npm install -g serverless
</code></pre></ul><h3 id="steps">Steps</h3><h4 id="create-a-new-service">Create a new service</h4><p>Use serverless to scaffold a lambda function using the Node.js template.<pre><code class="language-sh"># Create a new Serverless Service/Project
$ serverless create --template aws-nodejs --path my-service

# Change into the newly created directory
$ cd my-service
</code></pre><h4 id="build-test-and-deploy-your-service">Build, test and deploy your service</h4><ul><li>Test the function locally. Note &ldquo;-f&rdquo; specifies the function and &ldquo;-p&rdquo; passes in data to simulate an API call</ul><pre><code class="language-sh">  serverless invoke local -f twilio -p data.json
</code></pre><ul><li>Deploy the Service</ul><pre><code class="language-sh">  serverless deploy
</code></pre><ul><li>Fetch the Function Logs</ul><pre><code class="language-sh">  serverless logs -f twilio -t
</code></pre><p>Full working code is <a href="https://github.com/dstroot/twilio-business-card-aws-lambda">here</a></div></div><ul class="pagination"><li><a class="" href="https://danstroot.com/2019/01/06/the-polygon-of-enterprise-despair/">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Next Post <span class="icon-chevron-circle-right"></span></a></ul><hr class="soften"><div id="disqus_thread"></div><script type="text/javascript">!function(){if("localhost"!=window.location.hostname){var e=document.createElement("script");e.type="text/javascript",e.async=!0;e.src="//danstroot.disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}}()</script></div><script id="dsq-count-scr" src="//danstroot.disqus.com/count.js" async></script><script src="https://danstroot.com/js/loadjs.min.js"></script><script>loadjs(["https://danstroot.com/css/highlight/github.css","https://danstroot.com/js/highlight.pack.js"],{success:function(){hljs.initHighlightingOnLoad()},error:function(o){console.log("file not found")}})</script><script>loadjs(["https://danstroot.com/js/service-worker-registration.js"],{error:function(o){console.log("file not found")}})</script>